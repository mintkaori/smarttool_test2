(function () {
    function t(t) {
        this.element = t.target, this.mode = t.mode ? t.mode : "normal", this.align = t.align ? t.align : "center", this.scaleType = t.scale ? t.scale : "scale", this.callback = t.callback ? t.callback : null, window.addEventListener("resize", this.reSet.bind(this, this.element)), window.addEventListener("orientationchange", this.reSet.bind(this, this.element)), this.set(this.element)
    }
    t.prototype.getContainer = function () {
        // this.documentWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, this.documentHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
        this.documentWidth = document.documentElement.clientWidth || document.body.clientWidth, this.documentHeight = document.documentElement.clientHeight || document.body.clientHeight
    }, t.prototype.getZoomRate = function () {
        var t = this.documentWidth / this.element.clientWidth,
            e = this.documentHeight / this.element.clientHeight,
            i = this.element.clientWidth * e > this.documentWidth ? t : e;
        return i
    }, t.prototype.set = function (t) {
        this.getContainer(), this.element = t, this.zoomRate = this.getZoomRate(), this.left = (this.documentWidth - this.element.clientWidth * this.zoomRate) / 2, this.setScale()
    }, t.prototype.setScale = function () {
        this.element.style.transform = this.scaleType + "(" + this.zoomRate + ")", this.element.style.MsTransform = this.scaleType + "(" + this.zoomRate + ")", this.element.style.MozTransform = this.scaleType + "(" + this.zoomRate + ")", this.element.style.WebkitTransform = this.scaleType + "(" + this.zoomRate + ")", this.element.style.transformOrigin = "0% 0%", this.element.style.MsTransformOrigin = "0% 0%", this.element.style.MozTransformOrigin = "0% 0%", this.element.style.WebkitTransformOrigin = "0% 0%", "center" === this.align && (this.element.style.left = this.left + "px"), "web" === this.mode && (this.element.style.height = this.documentHeight / this.zoomRate + "px"), this.callback && this.callback(this)
    }, t.prototype.appendTargetScale = function (t) {
        t.style.transform = this.scaleType + "(" + this.zoomRate + ")", t.style.MsTransform = this.scaleType + "(" + this.zoomRate + ")", t.style.MozTransform = this.scaleType + "(" + this.zoomRate + ")", t.style.WebkitTransform = this.scaleType + "(" + this.zoomRate + ")", t.style.transformOrigin = "0% 0%", t.style.MsTransformOrigin = "0% 0%", t.style.MozTransformOrigin = "0% 0%", t.style.WebkitTransformOrigin = "0% 0%", "center" === this.align && (t.style.left = this.left + "px"), "web" === this.mode && (t.style.height = this.documentHeight / this.zoomRate + "px")
    }, t.prototype.reSet = function (t) {
        var e = this;
        setTimeout(function () {
            e.getContainer(), e.set(t)
        }, 50)
    }, "undefined" != typeof module && void 0 !== module.exports ? module.exports = t : window.$Scale = t
})();